import React, { useState } from 'react';
import { Link } from 'react-router-dom';
import { Menu } from 'lucide-react';

const Navigation = () => {
  const [isOpen, setIsOpen] = useState(false);

  return (
    <nav className="w-full fixed top-0 z-50">
      <div className="w-full px-6 py-4">
        <div className="flex justify-between items-center">
          {/* Logo */}
          <Link to="/" className="flex items-center">
            <svg width="40" height="40" viewBox="0 0 70 70" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clipPath="url(#clip0_63_70)">
                <path d="M34.7388 1.13993L35 0.695923L35.2612 1.13993L65.5721 52.6541L65.8682 53.1572H65.3109H4.68912H4.13177L4.42787 52.6541L34.7388 1.13993Z" stroke="black" strokeWidth="2"/>
                <path d="M31.3847 17.2128C31.2795 18.2785 31.2006 19.3161 31.1478 20.3257C31.1216 21.3072 31.1084 22.0644 31.1084 22.5972C31.1084 23.2703 31.1216 23.9013 31.1478 24.4902C31.1741 25.0791 31.2006 25.5979 31.2268 26.0466H30.3189C30.1348 24.0836 29.8848 22.5411 29.569 21.4194C29.2532 20.2696 28.7006 19.4423 27.9112 18.9375C27.1218 18.4327 25.8982 18.1803 24.2404 18.1803H22.1089V42.1157C22.1089 43.2374 22.201 44.0787 22.3852 44.6397C22.5957 45.2007 22.9904 45.5793 23.5693 45.7754C24.1482 45.9716 24.9903 46.0978 26.0955 46.154V46.9954C25.4113 46.9392 24.543 46.9112 23.4904 46.9112C22.4378 46.8833 21.3721 46.8692 20.2932 46.8692C19.1091 46.8692 17.9907 46.8833 16.9382 46.9112C15.9119 46.9112 15.083 46.9392 14.4515 46.9954V46.154C15.5567 46.0978 16.3987 45.9716 16.9776 45.7754C17.5565 45.5793 17.9381 45.2007 18.1223 44.6397C18.3328 44.0787 18.4381 43.2374 18.4381 42.1157V18.1803H16.3066C14.6751 18.1803 13.4515 18.4327 12.6358 18.9375C11.8463 19.4423 11.2937 20.2696 10.978 21.4194C10.6622 22.5411 10.4122 24.0836 10.228 26.0466H9.32018C9.37282 25.5979 9.39912 25.0791 9.39912 24.4902C9.42542 23.9013 9.43859 23.2703 9.43859 22.5972C9.43859 22.0644 9.41229 21.3072 9.35965 20.3257C9.33335 19.3161 9.26754 18.2785 9.16229 17.2128C10.2675 17.2409 11.4648 17.2689 12.7542 17.297C14.0699 17.325 15.3856 17.339 16.7013 17.339C18.017 17.339 19.2143 17.339 20.2932 17.339C21.3721 17.339 22.5563 17.339 23.8456 17.339C25.1614 17.339 26.4771 17.325 27.7928 17.297C29.1085 17.2689 30.3058 17.2409 31.3847 17.2128ZM47.1769 16.6239C48.9137 16.6239 50.3346 16.9043 51.4398 17.4652C52.5712 17.998 53.5713 18.629 54.4396 19.3582C54.966 19.7788 55.3608 19.8349 55.6238 19.5264C55.9133 19.1899 56.1107 18.4187 56.2159 17.2128H57.1237C57.071 18.2504 57.0315 19.5124 57.0053 20.9987C56.9791 22.4851 56.9658 24.4481 56.9658 26.8879H56.058C55.8739 25.6821 55.7027 24.7286 55.5448 24.0275C55.387 23.2983 55.1896 22.6814 54.9528 22.1766C54.7422 21.6718 54.4529 21.167 54.0844 20.6622C53.2688 19.5124 52.2425 18.6851 51.0056 18.1803C49.7688 17.6475 48.4662 17.3811 47.098 17.3811C45.8087 17.3811 44.6375 17.7316 43.585 18.4327C42.5588 19.1058 41.6642 20.0873 40.901 21.3773C40.1643 22.6673 39.5852 24.2238 39.1642 26.0466C38.7695 27.8695 38.5722 29.9167 38.5722 32.1882C38.5722 34.5439 38.7957 36.6331 39.2432 38.456C39.6906 40.2507 40.3089 41.7651 41.0983 42.9991C41.914 44.2331 42.8613 45.1724 43.9403 45.8175C45.0455 46.4344 46.2296 46.743 47.4927 46.743C48.6768 46.743 49.9137 46.4906 51.203 45.9858C52.4923 45.481 53.5056 44.6676 54.2423 43.546C54.8211 42.7326 55.2158 41.8492 55.4264 40.8958C55.6633 39.9424 55.8739 38.6101 56.058 36.8996H56.9658C56.9658 39.4515 56.9791 41.5127 57.0053 43.0832C57.0315 44.6255 57.071 45.9296 57.1237 46.9954H56.2159C56.1107 45.7896 55.9263 45.0324 55.6633 44.7238C55.4264 44.4152 55.0185 44.4573 54.4396 44.85C53.4661 45.5793 52.4266 46.224 51.3214 46.785C50.2424 47.3178 48.848 47.5843 47.1374 47.5843C44.6375 47.5843 42.4404 46.9812 40.5457 45.7754C38.6773 44.5697 37.2169 42.8309 36.1644 40.5593C35.1382 38.2878 34.625 35.5535 34.625 32.3565C34.625 29.2156 35.1644 26.4673 36.2434 24.1116C37.3223 21.7559 38.7957 19.9191 40.6641 18.601C42.5588 17.2829 44.7297 16.6239 47.1769 16.6239Z" fill="black"/>
              </g>
              <defs>
                <clipPath id="clip0_63_70">
                  <rect width="70" height="70" fill="white"/>
                </clipPath>
              </defs>
            </svg>
          </Link>

          {/* Menu Container - Now wraps both button and dropdown */}
          <div 
            className="relative group"
          >
            <button
              className="p-2 hover:bg-gray-100 rounded-md"
              aria-label="Menu"
              onMouseEnter={() => setIsOpen(true)}
              onClick={() => setIsOpen(!isOpen)}
            >
              <Menu size={32} strokeWidth={2} className="text-black" />
            </button>

            {/* Dropdown Menu */}
            <div 
              className={`absolute right-0 top-full mt-2 w-48 bg-white rounded-md shadow-lg py-1 transition-opacity duration-150 ${
                isOpen ? 'opacity-100' : 'opacity-0 pointer-events-none'
              }`}
              onMouseEnter={() => setIsOpen(true)}
              onMouseLeave={() => setIsOpen(false)}
            >
              <Link 
                to="/" 
                className="block px-4 py-2 text-gray-700 hover:bg-gray-100"
                onClick={() => setIsOpen(false)}
              >
                Home
              </Link>
              <Link 
                to="/color-analyzer" 
                className="block px-4 py-2 text-gray-700 hover:bg-gray-100"
                onClick={() => setIsOpen(false)}
              >
                Color Analyzer
              </Link>
            </div>
          </div>
        </div>
      </div>
    </nav>
  );
};

export default Navigation;